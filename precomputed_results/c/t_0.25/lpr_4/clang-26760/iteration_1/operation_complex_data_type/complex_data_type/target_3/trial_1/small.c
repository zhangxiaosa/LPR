unsigned int k;

q:
  k >>= 1;

  if (p) {
    k <<= j;
    goto q;
  }