{
  "prompt_from_system": "You are ChatGPT, a large language model trained by OpenAI. Knowledge cutoff: 2021-09. You are an assistant for program analysis and modifications. Please provide a step-by-step analysis (the analysis should not include any code snippets), and then write the whole final program into a JSON file and be sure to use Markdown syntax to wrap the JSON: ```json{\"program\": \"{PROGRAM_CODE}\"}```. In PROGRAM_CODE, use escape the control characters via double backslash, e.g., \\n and \\t.",
  "operations": {
    "function_inlining": {
      "single_level_question": "Given the following program, identify a function that can be inlined, optimize it out via function inlining.",
      "multi_level_question": {
        "primary_question": "Given the following program, identify all functions that can be inlined. Please write the identified functions into a json: {'target_list': [a list of functions]}. If no function is identified, just give an empty list.",
        "followup_question": "Given the following program and the specified function, optimize it out via function inlining."
      }
    },
    "loop_unrolling": {
      "single_level_question": "Given the following program, identify a loop structure and optimize it out via loop unrolling.",
      "multi_level_question": {
        "primary_question": "Given the following program, identify all loop structures by line. Please write the identified lines(the first line of this loop) into a json: {'target_list': [a list of strings]}. If no loop is identified, just give an empty list.",
        "followup_question": "Given the following program and the first line of a loop, optimize it out via loop unrolling."
      }
    },
    "redundant_data_type": {
      "single_level_question": "Given the following program, identify a redundant data type (e.g., typedef) and substitute every instance of the defined data type with its associated original data type.",
      "multi_level_question": {
        "primary_question": "Given the following program, identify all redundant data types (e.g., typedef). Please write the identified data type into a json: {'target_list': [a list of data type]}. If no data type is identified, just give an empty list.",
        "followup_question": "Given the following program and the specified data type, eliminate it, and substitute every instance of it with its associated original data type."
      }
    },
    "complex_data_type": {
      "single_level_question": "Given the following program, identify a complex data type, e.g., structure, class, array, decompose it into variables with primary data type, e.g., int, float.",
      "multi_level_question": {
        "primary_question": "Given the following program, identify all variables with complex data type (e.g., structure, class, array). Please write the identified variables into a json: {'target_list': [a list of variables]}. If no variable is identified, just give an empty list.",
        "followup_question": "Given the following program and the specified variable in complex data type, decompose it into variables with primary data type, e.g., int, float."
      }
    },
    "unnecessary_variable": {
      "single_level_question": "Given the following program, identify an intermediate or unused variable (it can be a global variable, local variable or function parameter), optimize it out via constant propagation or copy propagation.",
      "multi_level_question": {
        "primary_question": "Given the following program, identify all intermediate or unused variables (it can be a global variable, local variable or function parameter). Please write the identified variables into a json: {'target_list': [a list of variables]}. If no variable is identified, just give an empty list.",
        "followup_question": "Given the following program and the specified variable, optimize it out by constant propagation or copy propagation. If this variable is unused, just optimize it out."
      }
    }
  }
}
